"object"!=typeof google||"object"!=typeof google.maps?console.log("No google.maps prototype found"):jQuery(document).ready(function(e){"use strict";e(".google-map").each(function(){function t(e){function t(){null!==l.getAnimation()?l.setAnimation(null):l.setAnimation(google.maps.Animation.BOUNCE)}var a,n=[{stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"road.arterial",stylers:[{visibility:"on"},{color:"#f1c40f"}]},{featureType:"road.highway",stylers:[{visibility:"on"},{color:"#f1c40f"}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:"#ecf0f1"}]},{featureType:"water",stylers:[{visibility:"on"},{color:"#73bfc1"}]},{},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#2ecc71"}]},{elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{weight:.9},{visibility:"off"}]}],r={zoom:parseInt(i.mapZoom,10),center:e,scrollwheel:i.mapScroll,draggable:i.mapDraggable,mapTypeId:google.maps.MapTypeId[i.mapType]};a=new google.maps.Map(o[0],r);var l;if("flat"===i.mapStyle&&a.setOptions({styles:n}),"show"===i.marker){var p={url:i.markerURL,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(12,50)};l=new s({label:i.label,position:e,icon:p,map:a}),google.maps.event.addListener(l,"click",t)}}var o=e(this),i=window[o.attr("id")],a=function(e){this.setValues(e),this.div=document.createElement("div"),this.div.className="map-marker-label fadeIn animated"};a.prototype=e.extend(new google.maps.OverlayView,{onAdd:function(){this.getPanes().overlayImage.appendChild(this.div);var e=this;this.listeners=[google.maps.event.addListener(this,"position_changed",function(){e.draw()}),google.maps.event.addListener(this,"text_changed",function(){e.draw()}),google.maps.event.addListener(this,"zindex_changed",function(){e.draw()})]},onRemove:function(){this.div.parentNode.removeChild(this.div);for(var e=0,t=this.listeners.length;t>e;++e)google.maps.event.removeListener(this.listeners[e])},draw:function(){var t,o,i=String(this.get("text")),a=this.marker.icon.anchor,s=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.div.innerHTML=i,this.div.style.position="relative",t=e("div.map-marker-label").outerHeight(),o=e("div.map-marker-label").outerWidth(),this.div.style.left=s.x-o/2+"px",this.div.style.top=s.y-a.y-t-10+"px"}});var s=function(e){google.maps.Marker.apply(this,arguments),e.label&&(this.MarkerLabel=new a({map:this.map,marker:this,text:e.label}),this.MarkerLabel.bindTo("position",this,"position"))};if(s.prototype=e.extend(new google.maps.Marker,{setMap:function(){google.maps.Marker.prototype.setMap.apply(this,arguments),this.MarkerLabel&&this.MarkerLabel.setMap.apply(this.MarkerLabel,arguments)}}),void 0!==i.address){var n=new google.maps.Geocoder;n.geocode({address:i.address},function(e,o){o===google.maps.GeocoderStatus.OK?t(e[0].geometry.location):alert("Geocode was not successful for the following reason: "+o)})}else void 0!==i.lat&&void 0!==i.lng&&t(new google.maps.LatLng(i.lat,i.lng))})});